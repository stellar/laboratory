@use "../../styles/utils.scss" as *;

.PrettyJson {
  // Same style as Monaco Editor in <CodeEditor/>
  font-family: Menlo, Monaco, "Courier New", monospace;
  font-size: pxToRem(12px);
  line-height: pxToRem(18px);
  font-weight: var(--sds-fw-medium);
  letter-spacing: -0.5px;

  &__loaderContainer {
    display: flex;
    justify-content: center;
  }

  &__nested {
    padding-left: pxToRem(16px);

    .PrettyJson__bracket {
      color: #319331; // To match Monaco Editor's green color for nested brackets
    }

    // Show "Signatures Checked" message only if signatures are validated
    &[data-is-custom-key] {
      &:has(.PrettyJson--success),
      &:has(.PrettyJson--error) {
        .PrettyJson__key__note {
          display: block;
        }
      }
    }

    &:has(+ .PrettyJson--success) {
      .PrettyJson__key {
        color: var(--sds-clr-green-11);
      }
    }

    &:has(+ .PrettyJson--error) {
      .PrettyJson__key {
        color: var(--sds-clr-red-11);
      }
    }
  }

  &__inline {
    display: flex;
    gap: pxToRem(4px);
    position: relative;
  }

  &__array {
    & > .PrettyJson {
      padding-left: pxToRem(16px);

      & > .PrettyJson__bracket--end {
        &::after {
          content: ",";
        }
      }
    }
  }

  &--click {
    cursor: pointer;
  }

  &__value {
    &--string {
      color: var(--sds-clr-navy-11);
    }

    &--number,
    &--bigint {
      color: var(--sds-clr-lime-11);
    }

    &--boolean {
      color: var(--sds-clr-pink-11);
    }
  }

  &__value,
  &__comma,
  &__quotes,
  &__key {
    color: #a31515; // To match Monaco Editor's red color for key, values, commas, and quotes
  }

  &__bracket {
    color: #0431fa; // To match Monaco Editor's blue color for brackets
  }

  &__key {
    white-space: nowrap;

    &__note {
      display: none;
      font-size: pxToRem(12px);
      margin-left: pxToRem(4px);
      color: var(--sds-clr-gray-09);
    }
  }

  .Link {
    font-family: var(--sds-ff-monospace);
  }

  &__expandIcon {
    width: pxToRem(20px);
    height: pxToRem(20px);
    position: absolute;
    top: 50%;
    left: pxToRem(-20px);
    transform: translate(0, -40%);
    display: flex;
    align-items: flex-start;
    justify-content: flex-start;

    svg {
      display: block;
      width: pxToRem(16px);
      height: pxToRem(16px);
      stroke: var(--sds-clr-gray-10);
    }
  }

  &__expandSize {
    color: var(--sds-clr-gray-09);
    font-size: pxToRem(12px);
    margin-left: pxToRem(4px);
  }

  &--success {
    & > * {
      color: var(--sds-clr-green-11);
    }
  }

  &--error {
    & > * {
      color: var(--sds-clr-red-11);
    }
  }

  // Code wrapping
  &[data-code-wrapped="true"] {
    .PrettyJson__inline {
      & > * {
        word-break: break-all;
      }
    }

    .PrettyJson__value {
      white-space: nowrap;

      &--string {
        word-break: break-all;
        white-space: normal;
      }
    }
  }
}
